# ğŸ¤– a MAGi goe System

**Multi-Agent Generative Intelligence Consensus Analysis System**

ã‚¨ãƒ´ã‚¡ãƒ³ã‚²ãƒªã‚ªãƒ³ã®MAGIã‚·ã‚¹ãƒ†ãƒ ã«ã‚¤ãƒ³ã‚¹ãƒ‘ã‚¤ã‚¢ã•ã‚ŒãŸã€è¤‡æ•°ã®æœ€å…ˆç«¯AIãƒ¢ãƒ‡ãƒ«ã«ã‚ˆã‚‹å”èª¿çš„æ€è€ƒé€²åŒ–ã‚·ã‚¹ãƒ†ãƒ 

[![GitHub Pages](https://img.shields.io/badge/demo-live-brightgreen)](https://kg-ninja.github.io/aMAGIgoesystem/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![#KGNINJA](https://img.shields.io/badge/%23-KGNINJA-ff6600)](https://github.com/KG-NINJA)

---

## ğŸ¯ Overview

a MAGi goe System ã¯ã€3ã¤ã®ç•°ãªã‚‹è¦–ç‚¹ã‚’æŒã¤AIã‚·ã‚¹ãƒ†ãƒ ï¼ˆLogic, Ethics, Intuitionï¼‰ãŒå”èª¿çš„ã«æ€è€ƒã‚’é€²åŒ–ã•ã›ã‚‹ã€æ¬¡ä¸–ä»£ã®æ„æ€æ±ºå®šæ”¯æ´ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚

### 3ã¤ã®MAGIã‚·ã‚¹ãƒ†ãƒ 

| System | AI Model | Role | Perspective |
|--------|----------|------|-------------|
| **BALTHASAR-2** | OpenAI GPT-4o | Logic System | è«–ç†çš„åˆ†æãƒ»æ§‹é€ çš„æ€è€ƒ |
| **CASPER-3** | Anthropic Claude Sonnet 4.5 | Ethics System | å€«ç†çš„è©•ä¾¡ãƒ»é“å¾³çš„åˆ¤æ–­ |
| **MELCHIOR-1** | Google Gemini 2.0 | Intuition System | ç›´æ„Ÿçš„æ´å¯Ÿãƒ»å‰µé€ çš„æ€è€ƒ |

---

## âœ¨ Features

### ğŸ”„ 2ã¤ã®å‹•ä½œãƒ¢ãƒ¼ãƒ‰

#### 1. Simple Fusion Modeï¼ˆå˜ä¸€ãƒ©ã‚¦ãƒ³ãƒ‰ï¼‰
- å„AIãŒç‹¬ç«‹ã—ã¦å›ç­”ã‚’ç”Ÿæˆ
- ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯é¡ä¼¼åº¦ã«ã‚ˆã‚‹ã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹åˆ†æ
- è¿…é€Ÿãªæ„æ€æ±ºå®šã«æœ€é©

#### 2. Multi-Stage Debate Modeï¼ˆå¤šæ®µéšãƒ‡ã‚£ãƒ™ãƒ¼ãƒˆï¼‰â˜…æ¨å¥¨â˜…
çœŸã®å”èª¿çš„æ€è€ƒé€²åŒ–ã‚’å®Ÿç¾ã™ã‚‹3æ®µéšãƒ—ãƒ­ã‚»ã‚¹ï¼š

```
Stage 1: Primary Debateï¼ˆè¦³ç‚¹ã®æ‹¡æ•£ï¼‰
  â”œâ”€ å„AIãŒå®Œå…¨ç‹¬ç«‹ã§åˆ†æ
  â””â”€ Logic, Ethics, Intuition ã®3è¦–ç‚¹

       â†“ ç›¸äº’å‚ç…§

Stage 2: Rebuttal Roundï¼ˆè¦³ç‚¹ã®åæŸï¼‰
  â”œâ”€ ä»–AIã®å›ç­”ã‚’èª­ã‚“ã§å†è©•ä¾¡
  â”œâ”€ æ¬ é™¥ã®ä¿®æ­£ or ç«‹å ´ã®é˜²å¾¡
  â””â”€ çµ±åˆçš„ãªç¬¬2æ„è¦‹ã‚’ç”Ÿæˆ

       â†“ ãƒ¡ã‚¿çµ±åˆ

Stage 3: Meta-Consensusï¼ˆæœ€çµ‚çµ±åˆï¼‰
  â”œâ”€ åæŸç‚¹ã¨æœ‰ç›Šãªç›¸é•ç‚¹ã‚’ç‰¹å®š
  â”œâ”€ ä¿¡é ¼åº¦ãƒ¬ãƒ™ãƒ«ä»˜ãæœ€çµ‚æ¨å¥¨
  â””â”€ åæŸç‡ã®å®šé‡è©•ä¾¡
```

### ğŸ“Š é«˜åº¦ãªåˆ†ææ©Ÿèƒ½
- **åæŸç‡æ¸¬å®š**: ãƒ©ã‚¦ãƒ³ãƒ‰é–“ã§ã®æ„è¦‹ã®åæŸåº¦ã‚’å®šé‡åŒ–
- **é¡ä¼¼åº¦åˆ†æ**: ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯åŸ‹ã‚è¾¼ã¿ã«ã‚ˆã‚‹æ„è¦‹ã®ä¸€è‡´åº¦
- **ä¿¡é ¼åº¦è©•ä¾¡**: ã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹å¼·åº¦ã«åŸºã¥ãä¿¡é ¼ãƒ¬ãƒ™ãƒ«

### ğŸ¨ NERVé¢¨UIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- ã‚¨ãƒ´ã‚¡ãƒ³ã‚²ãƒªã‚ªãƒ³ã®MAGIåˆ¶å¾¡ç”»é¢ã‚’å†ç¾
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã®å¯©è­°ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
- 3æ®µéšãƒ‡ã‚£ãƒ™ãƒ¼ãƒˆã®å¯è¦–åŒ–
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³å¯¾å¿œ

### ğŸ›¡ï¸ å …ç‰¢æ€§
- APIã‚¨ãƒ©ãƒ¼æ™‚ã®è‡ªå‹•ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
- éƒ¨åˆ†çš„ãªã‚·ã‚¹ãƒ†ãƒ éšœå®³ã«ã‚‚å¯¾å¿œ
- GitHub Actions ã«ã‚ˆã‚‹è‡ªå‹•å®Ÿè¡Œ
- çµæœã®æ°¸ç¶šåŒ–ï¼ˆJSON + Markdownï¼‰

---

## ğŸš€ Quick Start

### Prerequisites

- Python 3.11+
- API Keys:
  - **OpenAI API Key** (å¿…é ˆ)
  - **Google AI API Key** (å¿…é ˆ - Geminiç”¨)
  - **Google Custom Search API Key** (æ¨å¥¨ - Webæ¤œç´¢ç”¨)
  - **Google Custom Search Engine ID (CX)** (æ¨å¥¨)
  - **Anthropic API Key** (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)

### Google Custom Search API ã®è¨­å®š

Stage 0 ã® Web Intelligence æ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ã€Google Custom Search API ã®è¨­å®šãŒå¿…è¦ã§ã™ã€‚

#### 1. Custom Search API ã‚’æœ‰åŠ¹åŒ–

1. [Google Cloud Console](https://console.cloud.google.com/) ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é¸æŠï¼ˆãªã‘ã‚Œã°ä½œæˆï¼‰
3. ã€ŒAPIã¨ã‚µãƒ¼ãƒ“ã‚¹ã€â†’ã€Œãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€
4. "Custom Search API" ã‚’æ¤œç´¢ã—ã¦æœ‰åŠ¹åŒ–

#### 2. API ã‚­ãƒ¼ã‚’ç™ºè¡Œ

1. [APIèªè¨¼æƒ…å ±](https://console.cloud.google.com/apis/credentials) ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ã€Œèªè¨¼æƒ…å ±ã‚’ä½œæˆã€â†’ã€ŒAPIã‚­ãƒ¼ã€
3. ç”Ÿæˆã•ã‚ŒãŸã‚­ãƒ¼ã‚’ã‚³ãƒ”ãƒ¼ï¼ˆã“ã‚ŒãŒ `GOOGLE_SEARCH_API_KEY`ï¼‰

#### 3. Programmable Search Engine ã‚’ä½œæˆ

1. [Programmable Search Engine](https://programmablesearchengine.google.com/) ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ã€Œè¿½åŠ ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
3. ä»¥ä¸‹ã‚’è¨­å®šï¼š
   - æ¤œç´¢ã™ã‚‹ã‚µã‚¤ãƒˆ: `ipa.go.jp, jpcert.or.jp, cisa.gov, nist.gov` ãªã©
   - ã¾ãŸã¯ã€Œã‚¦ã‚§ãƒ–å…¨ä½“ã‚’æ¤œç´¢ã€ã‚’é¸æŠ
4. ä½œæˆå¾Œã€ã€Œæ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³IDã€ã‚’ã‚³ãƒ”ãƒ¼ï¼ˆã“ã‚ŒãŒ `GOOGLE_CX`ï¼‰

> **æ³¨æ„**: Google AI API Key (Geminiç”¨) ã¨ Google Search API Key ã¯**åˆ¥ç‰©**ã§ã™ï¼

### Installation

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/KG-NINJA/aMAGIgoesystem.git
cd aMAGIgoesystem

# ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -r requirements.txt

# ç’°å¢ƒå¤‰æ•°ã®è¨­å®š
export OPENAI_API_KEY="sk-..."
export GOOGLE_API_KEY="AIza..."              # Geminiç”¨
export GOOGLE_SEARCH_API_KEY="AIza..."       # Custom Searchç”¨
export GOOGLE_CX="c73b36615959a4d48"         # Search Engine ID
export ANTHROPIC_API_KEY="sk-ant-..."        # ã‚ªãƒ—ã‚·ãƒ§ãƒ³
```

ã¾ãŸã¯ `.env` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆï¼š

```bash
OPENAI_API_KEY=sk-...
GOOGLE_API_KEY=AIza...
GOOGLE_SEARCH_API_KEY=AIza...
GOOGLE_CX=c73b36615959a4d48
ANTHROPIC_API_KEY=sk-ant-...
```

### Usage

#### Simple Fusion Mode

```bash
python scripts/magi_fusion.py "é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®å€«ç†çš„å½±éŸ¿ã¯ï¼Ÿ"
```

#### Multi-Stage Debate Modeï¼ˆæ¨å¥¨ï¼‰

```bash
python scripts/magi_debate_multistage.py "AGIã¯äººé¡ã«ã¨ã£ã¦è„…å¨ã‹æ©Ÿä¼šã‹ï¼Ÿ"
```

**å®Ÿè¡Œä¾‹:**
```bash
# Kaggleç«¶æŠ€è€…ã®è©•ä¾¡
python scripts/magi_debate_multistage.py "KGNINJAã®Kaggleå®ŸåŠ›ã‚’å¤šè§’çš„ã«è©•ä¾¡ã—ã¦"

# å“²å­¦çš„å•ã„
python scripts/magi_debate_multistage.py "æ„è­˜ã¨ã¯ä½•ã‹ï¼ŸAIã¯æ„è­˜ã‚’æŒã¡ã†ã‚‹ã‹ï¼Ÿ"

# ç¤¾ä¼šå•é¡Œ
python scripts/magi_debate_multistage.py "ãƒ™ãƒ¼ã‚·ãƒƒã‚¯ã‚¤ãƒ³ã‚«ãƒ ã¯å®Ÿç¾å¯èƒ½ã‹ï¼Ÿ"
```

---

## ğŸ“ Project Structure

```
aMAGIgoesystem/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â”œâ”€â”€ magi_fusion.yml              # Simple Fusionè‡ªå‹•å®Ÿè¡Œ
â”‚       â”œâ”€â”€ magi_multistage.yml          # Multi-Stage Debateè‡ªå‹•å®Ÿè¡Œ
â”‚       â””â”€â”€ magi_multistage_robust.yml   # ã‚ˆã‚Šå …ç‰¢ãªãƒãƒ¼ã‚¸ãƒ§ãƒ³
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ magi_fusion.py                   # Simple Fusionã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â””â”€â”€ magi_debate_multistage.py        # Multi-Stage Debateã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ results/
â”‚   â”œâ”€â”€ fusion_results.json              # Simple Fusionçµæœ
â”‚   â”œâ”€â”€ consensus_log.md                 # Simple Fusionãƒ­ã‚°
â”‚   â”œâ”€â”€ multistage_debate.json           # Multi-Stageçµæœ
â”‚   â””â”€â”€ multistage_log.md                # Multi-Stageãƒ­ã‚°
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ index.html                       # NERVé¢¨ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â””â”€â”€ .nojekyll                        # Jekyllç„¡åŠ¹åŒ–
â”œâ”€â”€ requirements.txt                     # Pythonä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
â”œâ”€â”€ .gitignore                          
â””â”€â”€ README.md
```

---

## ğŸŒ Live Demo

**NERVé¢¨ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰:** https://kg-ninja.github.io/aMAGIgoesystem/

- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã®å¯©è­°ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
- Simple Fusionã¨Multi-Stage Debateã®åˆ‡ã‚Šæ›¿ãˆ
- å®Œå…¨ãªãƒˆãƒ©ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®é–²è¦§
- åæŸç‡ã®å¯è¦–åŒ–

---

## ğŸ¤– GitHub Actions

### æ‰‹å‹•å®Ÿè¡Œ

1. ãƒªãƒã‚¸ãƒˆãƒªã® **Actions** ã‚¿ãƒ–ã‚’é–‹ã
2. ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’é¸æŠ:
   - `MAGI Fusion System` - Simple Fusion
   - `MAGI Multi-Stage Deliberation` - Multi-Stage Debate
3. **Run workflow** ã‚’ã‚¯ãƒªãƒƒã‚¯
4. ã‚¯ã‚¨ãƒªã‚’å…¥åŠ›ã—ã¦å®Ÿè¡Œ

### è‡ªå‹•å®Ÿè¡Œ

- **Simple Fusion**: æ¯é€±æ—¥æ›œæ—¥ 0:00 UTC
- **Multi-Stage Debate**: æ¯é€±æ—¥æ›œæ—¥ 12:00 UTC

çµæœã¯è‡ªå‹•çš„ã« `results/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚³ãƒŸãƒƒãƒˆã•ã‚Œã¾ã™ã€‚

---

## ğŸ“Š Output Format

### Simple Fusionçµæœ

```json
{
  "timestamp": "2025-10-19T12:00:00.000000",
  "question": "Your query",
  "models": {
    "openai": "gpt-4o",
    "anthropic": "claude-sonnet-4-5-20250929",
    "gemini": "gemini-2.0-flash-exp"
  },
  "responses": {
    "openai": "...",
    "anthropic": "...",
    "gemini": "..."
  },
  "fusion": "Consensus analysis",
  "score": 0.85
}
```

### Multi-Stage Debateçµæœ

```json
{
  "timestamp": "2025-10-19T12:00:00.000000",
  "query": "Your query",
  "stage1_primary_debate": {
    "logic": "...",
    "ethics": "...",
    "intuition": "..."
  },
  "stage2_rebuttal_round": {
    "logic": "...",
    "ethics": "...",
    "intuition": "..."
  },
  "stage3_meta_consensus": "Final synthesis",
  "similarity_analysis": {
    "round1": 0.65,
    "round2": 0.82,
    "convergence": 0.17
  }
}
```

---

## ğŸ§  æŠ€è¡“çš„ç‰¹å¾´

### Multi-Stage Debateã®ä»•çµ„ã¿

#### Stage 1: Primary Debate
å„AIãŒå®Œå…¨ã«ç‹¬ç«‹ã—ã¦åˆ†æã‚’è¡Œã†ã€Œè¦³ç‚¹ã®æ‹¡æ•£ã€ãƒ•ã‚§ãƒ¼ã‚ºã€‚

```python
prompt = f"""You are {system_name}, representing {role}.
Query: {query}
Provide your independent analysis."""
```

#### Stage 2: Rebuttal Round
ä»–ã®AIã®å›ç­”ã‚’å‚ç…§ã—ã¦å†è©•ä¾¡ã™ã‚‹ã€Œè¦³ç‚¹ã®åæŸã€ãƒ•ã‚§ãƒ¼ã‚ºã€‚

```python
rebuttal_prompt = f"""
Your initial response: {original_response}
Other systems' responses: {other_responses}

Re-evaluate your stance:
1. Identify valuable insights you missed
2. Correct flaws in your reasoning
3. Defend your position if others missed key points
4. Synthesize all perspectives
"""
```

#### Stage 3: Meta-Consensus
ãƒ¡ã‚¿AIãŒå…¨ãƒ©ã‚¦ãƒ³ãƒ‰ã‚’çµ±åˆã™ã‚‹ã€Œæœ€çµ‚çµ±åˆã€ãƒ•ã‚§ãƒ¼ã‚ºã€‚

### åæŸç‡ã®è¨ˆç®—

```python
convergence_rate = round2_similarity - round1_similarity
# æ­£ã®å€¤ = ã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹ãŒå‘ä¸Š
# è² ã®å€¤ = æ„è¦‹ãŒå¤šæ§˜åŒ–
```

---

## ğŸ¨ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### ãƒ¢ãƒ‡ãƒ«ã®å¤‰æ›´

`scripts/magi_debate_multistage.py` ã®ä»¥ä¸‹ã‚’ç·¨é›†:

```python
# OpenAI
model="gpt-4o"  # or "gpt-4o-mini", "o1-preview"

# Anthropic
model="claude-sonnet-4-5-20250929"  # or "claude-opus-4-1"

# Google
model="gemini-2.0-flash-exp"  # or "gemini-1.5-pro"
```

### UIã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

`docs/index.html` ã®CSSå¤‰æ•°ã‚’ç·¨é›†:

```css
:root {
  --color-primary: #00ff00;    /* ãƒ¡ã‚¤ãƒ³ã‚«ãƒ©ãƒ¼ */
  --color-secondary: #00ccff;  /* ã‚»ã‚«ãƒ³ãƒ€ãƒªã‚«ãƒ©ãƒ¼ */
  --color-warning: #ff6600;    /* è­¦å‘Šè‰² */
}
```

---

## ğŸ“ˆ Use Cases

- **ç ”ç©¶é–‹ç™º**: è¤‡é›‘ãªç§‘å­¦çš„ãƒ»æŠ€è¡“çš„å•é¡Œã®å¤šè§’çš„åˆ†æ
- **å€«ç†çš„åˆ¤æ–­**: é“å¾³çš„ã‚¸ãƒ¬ãƒ³ãƒã®æ§‹é€ åŒ–ã•ã‚ŒãŸè­°è«–
- **æˆ¦ç•¥ç«‹æ¡ˆ**: ãƒ“ã‚¸ãƒã‚¹æ„æ€æ±ºå®šã®åŒ…æ‹¬çš„è©•ä¾¡
- **æ•™è‚²**: æ‰¹åˆ¤çš„æ€è€ƒã¨å¤šæ§˜ãªè¦–ç‚¹ã®å­¦ç¿’
- **æ”¿ç­–åˆ†æ**: ç¤¾ä¼šå•é¡Œã«å¯¾ã™ã‚‹å¤šé¢çš„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

---

## ğŸ¤ Contributing

ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³å¤§æ­“è¿ã§ã™ï¼

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

---

## ğŸ“ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---

## ğŸ™ Acknowledgments

- Inspired by the MAGI system from **Neon Genesis Evangelion**
- Powered by:
  - [OpenAI](https://openai.com/) - GPT-4o
  - [Anthropic](https://www.anthropic.com/) - Claude Sonnet 4.5
  - [Google AI](https://ai.google/) - Gemini 2.0
- Built by [**#KGNINJA**](https://github.com/KG-NINJA)

---

## ğŸ“ Contact

- GitHub: [@KG-NINJA](https://github.com/KG-NINJA)
- Project Link: https://github.com/KG-NINJA/aMAGIgoesystem
- Live Demo: https://kg-ninja.github.io/aMAGIgoesystem/

---

<div align="center">

**ğŸ¤– a MAGi goe System - Where Logic, Ethics, and Intuition Converge**

Made with ğŸ’š by #KGNINJA

</div>
